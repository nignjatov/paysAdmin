<div class="wrapper">

  <div ng-include="'pages/header.html'"></div>
  <div ng-include="'pages/navbar.html'"></div>
  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper col-sm-12">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
        Categories
        <small>Control information about product categories</small>
      </h1>
      <ol class="breadcrumb">
        <li><a href="#/"><i class="fa fa-dashboard"></i> Home</a></li>
        <li class="active">Categories</li>
      </ol>
    </section>
    <section class="content">
      <!-- Nested node template -->
      <div class="col-sm-12">
        <div class="col-sm-5">
          <script type="text/ng-template" id="nodes_renderer.html">
            <div ui-tree-handle class="tree-node tree-node-content cursor-defautlt">
              <a class="btn btn-success btn-xs" ng-if="node.children && node.children.length > 0" data-nodrag
                 ng-click="toggle(this)"><span
                class="glyphicon"
                ng-class="{
          'glyphicon-chevron-right': collapsed,
          'glyphicon-chevron-down': !collapsed
        }"></span></a>
              {{node.name}}
              <a ng-if="canBeDeleted(this)" class="pull-right btn btn-danger btn-xs" data-nodrag ng-click="removeCategory(this)"><span
                class="glyphicon glyphicon-remove"></span></a>
              <a ng-if="canHaveSubcategories(this)" class="pull-right btn btn-primary btn-xs" data-nodrag ng-click="newSubCategory(this)"
                 style="margin-right: 8px;"><span
                class="glyphicon glyphicon-plus"></span></a>
              <a class="pull-right btn btn-success btn-xs" data-nodrag ng-click="selectCategory(this)"><span
                ><i class="fa fa-pencil"></i></span></a>
            </div>
            <ol ui-tree-nodes="" ng-model="node.children" ng-class="{hidden: collapsed}">
              <li ng-repeat="node in node.children" ui-tree-node ng-include="'nodes_renderer.html'">
              </li>
            </ol>
          </script>

          <div class="row">
            <div ui-tree id="tree-root" data-drag-enabled="false">
              <ol ui-tree-nodes ng-model="categories">
                <li ng-repeat="node in categories" ui-tree-node ng-include="'nodes_renderer.html'"></li>
              </ol>
            </div>
          </div>
        </div>
        <div class="col-sm-5">
          <div ng-if="selectedCategory" class="panel panel-info panel-heading-margin">
            <div class="panel-heading col-sm-12">
              <div class="col-sm-4">Category</div>
            </div>
            <div class="panel-body">
              <dl>
                <dt class="col-sm-6">Category name</dt>
                <dd class="col-sm-6 text-center">
                  <input type="text" class="form-control col-sm-12 text-left" ng-model="selectedCategory.name"
                         placeholder="Enter category name">
                  </input></dd>
                <dt ng-if="selectedCategory.level < 2" class="col-sm-6">Subcategories number</dt>
                <dd ng-if="selectedCategory.level < 2" class="col-sm-6 text-center">{{selectedCategory.children.length}}</dd>
                <dt class="col-sm-6">Products number</dt>
                <dd class="col-sm-6 text-center">{{selectedCategory.products.length}}</dd>

                <button class="pull-right btn btn-primary btn-padded" ng-click="saveCategory()" ng-disabled="!selectedCategory.name">
                  <i class="fa fa-floppy-o"></i> Save
                </button>
              </dl>
            </div>
          </div>
          <!-- /.col-lg-4 -->
        </div>
      </div>
    </section>
  </div>
  <div ng-include="'pages/footer.html'"></div>
  <!-- /.content-wrapper -->
</div>

